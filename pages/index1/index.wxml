<!--index.wxml-->
<view class="container">
    <canvas class="my-canvas" style="width: 3000px; height: 2000px;" canvas-id="myCanvas"></canvas>

    <view class="img-cont">
        <image class="img pre-img" src="{{img}}" mode="widthFix" bindload="imgLoad" hidden="{{showImg ? true : false}}"></image>
        <image class="img" src="{{showImg}}" mode="widthFix" bindtap="imgPreview" hidden="{{!showImg ? true : false}}"></image>
    </view>
    <br/>
    <button wx:if="{{!hasUserInfo}}" open-type="getUserInfo" bindgetuserinfo="getUserInfo"> 获取头像昵称 </button>

    <view class="btn-wrap" wx:if="{{!loading}}">
        <view class="mode-item btn btn1" bindtap="choseImg">选择图片</view>
        <view class="mode-item btn btn2" bindtap="saveImg" hidden="{{!showImg}}">保存图片</view>
        <view class="mode-item btn btn3" bindtap="openModeConfig">参数设置</view>
    </view>

    <view class="mode-list">
        <block wx:for="{{mode}}" wx:key="{{item.name}}">
            <view bindtap="choseMode" data-index="{{index}}" class="mode-item {{index == modeIndex ? 'mode-item-chosed' : ''}}">{{item.name}}</view>
        </block>
    </view>

</view>